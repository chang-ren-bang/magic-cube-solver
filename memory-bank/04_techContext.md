# 4. 技術背景 (Tech Context)

## 主要技術棧

*   **核心語言**: JavaScript (ES6+)
*   **使用者介面**: HTML5
*   **樣式**: CSS3
*   **繪圖**: **Three.js (WebGL)**

## 開發環境

*   **執行環境**: 網頁瀏覽器 (Chrome, Firefox, Safari, Edge 等現代瀏覽器)
*   **程式碼編輯器**: VS Code (或其他使用者偏好的編輯器)
*   **版本控制**: Git (建議使用)

## 相依性 (預期)

*   **3D 渲染**: **Three.js** (透過 CDN 載入)
*   **鏡頭控制**: **OrbitControls** (Three.js 附加元件，透過 CDN 載入)
*   **動畫**: **Tween.js** (透過 CDN 載入)
*   **魔術方塊解題函式庫**: **決定不使用外部函式庫，改為自行實作 (`js/SimpleSolver.js`)**。
*   **其他**: 無。

## 技術限制與挑戰

*   **AI 協助開發**:
    - 初期使用 Google Gemini 2.5 Pro (google/gemini-2.5-pro-exp-03-25:free)
    - 當 OpenRouter 與 Google Gemini 額度用盡後
    - 改用 VSCode LM API 的 Claude 3.5 完成開發

*   **Three.js 使用**: 
    - 需要熟悉 Three.js 的 API 和概念
    - 正確處理幾何體、材質、光照等設定
    - 確保顏色在初始化時就正確設定

*   **3D 物件操作**:
    - 直接操作 3D 物件的位置和旋轉
    - 確保旋轉動畫的正確性
    - 精確處理旋轉後的位置吸附

*   **動畫系統**:
    - 使用 Tween.js 實現平滑的旋轉效果
    - 處理動畫中的狀態切換
    - 確保重置功能的可靠性

*   **效能優化**:
    - 共用幾何體和材質以減少記憶體使用
    - 優化動畫效能
    - 確保在各種裝置上的流暢運行

*   **解題邏輯**:
    - 目前使用反轉打亂序列的簡易方法
    - 未來可能需要實作真正的解題演算法

## 工具使用模式

*   **開發伺服器**: 可能需要一個簡單的本地開發伺服器（例如使用 `live-server` VS Code 擴充功能或 `npx http-server`）來避免瀏覽器的本地檔案存取限制。
*   **除錯**: 主要依賴瀏覽器開發者工具進行除錯。
*   **模組化**: 考慮使用 ES6 Modules (`import`/`export`) 來組織程式碼。
